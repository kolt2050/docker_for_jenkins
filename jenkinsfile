node {
    checkout scm

    docker.withRegistry('https://hub.docker.com') {

        docker.image('kolt2050/jenkins_docker').inside {
           sh 'docker --version' 
           sh 'echo 1234'
        }
    }
    stage('Clone repo') {
        println("HELLO")
           sh 'rm -rf * && git clone https://github.com/epam/edp-install.git'
           sh 'pwd && ls -la'
           sh 'cd edp-install'
           
        println("---------we in edp-install----------")
           sh 'pwd && ls -la'
        println("---------------build docs--------------")
           sh 'docker run --rm -i -v ${PWD}:/docs --entrypoint mkdocs edp-docs build | ./edp-install/make'
        println("---------------site is here--------------")
           //ls -la ../
           //mv site ../
           //git checkout gh-pages
           //ls -la
           //rm -rf *
           //echo "Clear gh-pages"
           //cp ../site .
           //ls -la
       
        
    }
}
